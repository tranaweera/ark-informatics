delimiter $$

CREATE TABLE `subject_status` (
  `SUBJECT_STATUS_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`SUBJECT_STATUS_KEY`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1$$

CREATE TABLE `subject_custm_fld` (
  `SUBJECT_CUSTM_FLD_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(200) DEFAULT NULL,
  `DATA_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`SUBJECT_CUSTM_FLD_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `subject_cust_fld_dat` (
  `SUBJECT_CUST_FLD_DAT_KEY` decimal(65,30) NOT NULL,
  `FIELD_DATA` text,
  `LINK_SUBJECT_STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `SUBJECT_CUSTM_FLD_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`SUBJECT_CUST_FLD_DAT_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `study_status` (
  `STUDY_STATUS_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(25) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`STUDY_STATUS_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `study_site` (
  `STUDY_SITE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(255) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `ADDRESS_KEY` decimal(65,30) DEFAULT NULL,
  `DOMAIN_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`STUDY_SITE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `study_comp_status` (
  `STUDY_COMP_STATUS_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(100) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`STUDY_COMP_STATUS_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `study_comp` (
  `STUDY_COMP_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(100) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`STUDY_COMP_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `study` (
  `STUDY_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(150) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `DATE_OF_APPLICATION` datetime DEFAULT NULL,
  `ESTIMATED_YEAR_OF_COMPLETION` decimal(65,30) DEFAULT NULL,
  `CHIEF_INVESTIGATOR` varchar(50) DEFAULT NULL,
  `CO_INVESTIGATOR` varchar(50) DEFAULT NULL,
  `AUTO_GENERATE_SUBJECT_KEY` decimal(1,0) DEFAULT NULL,
  `SUBJECT_KEY_START` decimal(65,30) DEFAULT NULL,
  `STUDY_STATUS_KEY` decimal(65,30) DEFAULT NULL,
  `SUBJECT_ID_PREFIX` varchar(20) DEFAULT NULL,
  `CONTACT_PERSON` varchar(50) DEFAULT NULL,
  `CONTACT_PERSON_PHONE` varchar(20) DEFAULT NULL,
  `LDAP_GROUP_NAME` varchar(100) DEFAULT NULL,
  `AUTO_CONSENT` decimal(1,0) DEFAULT NULL,
  `SUB_STUDY_BIOSPECIMEN_PREFIX` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`STUDY_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1$$

CREATE TABLE `relationship` (
  `RELATIONSHIP_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`RELATIONSHIP_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `phone_type` (
  `PHONE_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`PHONE_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `phone` (
  `PHONE_KEY` decimal(65,30) NOT NULL,
  `PHONE_NUMBER` decimal(65,30) DEFAULT NULL,
  `PERSON_KEY` decimal(65,30) DEFAULT NULL,
  `PHONE_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`PHONE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `person` (
  `PERSON_KEY` bigint(65) NOT NULL,
  `FIRST_NAME` varchar(50) DEFAULT NULL,
  `MIDDLE_NAME` varchar(50) DEFAULT NULL,
  `LAST_NAME` varchar(50) DEFAULT NULL,
  `PREFERRED_NAME` varchar(150) DEFAULT NULL,
  `GENDER` varchar(20) DEFAULT NULL,
  `DATE_OF_BIRTH` datetime DEFAULT NULL,
  `VITAL_STATUS` varchar(50) DEFAULT NULL,
  `TITLE` varchar(20) DEFAULT NULL,
  `PERSON_ID` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`PERSON_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `permission` (
  `ID` decimal(65,30) NOT NULL,
  `NAME` varchar(100) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `menus` (
  `ID` decimal(65,30) NOT NULL,
  `NAME` varchar(50) DEFAULT NULL,
  `RESOURCEKEY` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_subject_studycomp` (
  `LINK_SUBJECT_STUDYCOMP_KEY` decimal(65,30) NOT NULL,
  `SUBJECT_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_COMP_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `COMP_STATUS_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_SUBJECT_STUDYCOMP_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_subject_study` (
  `LINK_SUBJECT_STUDY_KEY` decimal(65,30) NOT NULL,
  `PERSON_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `SUBJECT_STATUS_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_SUBJECT_STUDY_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_subject_contact` (
  `LINK_SUBJECT_CONTACT_KEY` decimal(65,30) NOT NULL,
  `CONTACT_KEY` decimal(65,30) DEFAULT NULL,
  `SUBJECT_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `RELATIONSHIP_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_SUBJECT_CONTACT_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_study_substudy` (
  `LINK_STUDY_SUBSTUDY_KEY` decimal(65,30) NOT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `SUBSTUDY_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_STUDY_SUBSTUDY_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_study_studysite` (
  `LINK_STUDY_STUDYSITE_KEY` decimal(65,30) NOT NULL,
  `STUDY_SITE_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_STUDY_STUDYSITE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_study_studycomp` (
  `LINK_STUDY_STUDYCOMP_KEY` decimal(65,30) NOT NULL,
  `STUDY_COMP_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_COMP_STATUS_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_STUDY_STUDYCOMP_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `link_site_contact` (
  `LINK_SITE_CONTACT_KEY` decimal(65,30) NOT NULL,
  `PERSON_KEY` decimal(65,30) DEFAULT NULL,
  `STUDY_SITE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`LINK_SITE_CONTACT_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `email_account_type` (
  `EMAIL_ACCOUNT_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `DESCRIPTION` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`EMAIL_ACCOUNT_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `email_account` (
  `EMAIL_ACCOUNT_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(255) DEFAULT NULL,
  `PRIMARY_ACCOUNT` decimal(1,0) DEFAULT NULL,
  `PERSON_KEY` decimal(65,30) DEFAULT NULL,
  `EMAIL_ACCOUNT_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`EMAIL_ACCOUNT_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `domain_type` (
  `DOMAIN_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`DOMAIN_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$



CREATE TABLE `document` (
  `DOCUMENT_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(100) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  `DOCUMENT_CONTENT` longblob,
  `STUDY_COMP_KEY` decimal(65,30) DEFAULT NULL,
  `CORRESPONDENCE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`DOCUMENT_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `domain` (
  `ID` decimal(65,30) NOT NULL,
  `NAME` varchar(100) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$


CREATE TABLE `data_type` (
  `DATA_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(255) NOT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`DATA_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `correspondence_type` (
  `CORRESPONDENCE_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(50) DEFAULT NULL,
  `TYPE_DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`CORRESPONDENCE_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `correspondence` (
  `CORRESPONDENCE_KEY` decimal(65,30) NOT NULL,
  `DATE_OF_CORRESPONDENCE` datetime DEFAULT NULL,
  `SUMMARY` varchar(255) DEFAULT NULL,
  `CORRESPONDENCE_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`CORRESPONDENCE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `audit_history` (
  `AUDIT_HISTORY_KEY` decimal(65,30) NOT NULL,
  `STUDY_STATUS` varchar(20) DEFAULT NULL COMMENT 'Related Study Status, so by looking at the audit history, the various status can be viewed.',
  `DATE_TIME` datetime DEFAULT NULL COMMENT 'Date this action was performed',
  `ACTION_TYPE_KEY` decimal(65,30) DEFAULT NULL COMMENT 'Type of action, Created, Modified, Deleted, Viewed',
  `ETA_USER_ID` varchar(50) DEFAULT NULL COMMENT 'USER ID of the  logged in person who performed this action. It is a key that is in LDAP and not in the ETA Database. ',
  `COMMENT` varchar(255) DEFAULT NULL,
  `ENTITY_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`AUDIT_HISTORY_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `address_type` (
  `ADDRESS_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(50) DEFAULT NULL,
  `DESCRIPTION` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`ADDRESS_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `address` (
  `ADDRESS_KEY` decimal(65,30) NOT NULL,
  `STREET_ADDRESS` varchar(255) DEFAULT NULL,
  `SUBURB` varchar(50) DEFAULT NULL,
  `POST_CODE` varchar(10) DEFAULT NULL,
  `CITY` varchar(30) DEFAULT NULL,
  `STATE` varchar(20) DEFAULT NULL,
  `COUNTRY` varchar(50) DEFAULT NULL,
  `PERSON_KEY` decimal(65,30) DEFAULT NULL,
  `ADDRESS_STATUS` decimal(1,0) DEFAULT NULL,
  `ADDRESS_TYPE_KEY` decimal(65,30) DEFAULT NULL,
  PRIMARY KEY (`ADDRESS_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$

CREATE TABLE `action_type` (
  `ACTION_TYPE_KEY` decimal(65,30) NOT NULL,
  `NAME` varchar(20) CHARACTER SET latin1 DEFAULT NULL,
  `DESCRIPTION` varchar(255) CHARACTER SET latin1 DEFAULT NULL,
  PRIMARY KEY (`ACTION_TYPE_KEY`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8$$