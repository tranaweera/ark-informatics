<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : DBSchemaMapping.xml
    Created on : 3 December 2004, 14:17
    Author     : Long Tran
    Description:
        This document is the document providing all the Database Schema details used by 
        Platformgenix.
-->

<root>

    <!-- NOTE: The ORDER is IMPORTANT, it is used when inserting mutually dependent 
    records, such as: you need to insert RELATED PARTIES before inserting CORECASE,
    and RELATED CASE, therefore, RELATED PARTIES should come first, then CORECASE 
    and then RELATED CASE. In case of WORKFLOW and SMARTFORM, it is even more 
    complicated, please be careful.
    
    If you are not sure how to work out the order, please consult senior developers 
    before adding domains.-->
    
    <domain name="CASE" formField="ccase_view_core_case"/>
    <domain name="RPTY" formField="crelatedparties_import_related_parties"/>
    <domain name="CSAL" formField="ccase_view_case_alert"/>
    <domain name="CDRY" formField="ccase_view_case_diary"/>
    <domain name="RCAS" formField="crelatedparties_related_case_only_view"/>
    <domain name="BB" formField="presentation_view_building_block"/>
    <domain name="BBDT" formField="presentation_view_bb_data"/>
    <domain name="RADD" formField="crelatedparties_view_related_address"/>
    
    
    <!-- Primary field and Foreign field definitions -->
    
    <!-- Primary Fields -->    
    <field name="CASE_intCoreCaseKey" isPrimary="true" externalKeyField="CASE_intExtCCaseKey"/>
    <field name="RPTY_intPartiesKey" actionWhenExisted="update" isPrimary="true" externalKeyField="RPTY_intExtPtKey"/>
    <field name="CSAL_intCaseAlertKey" actionWhenExisted="insert" isPrimary="true" externalKeyField="CSAL_strAlertID"/>
    <field name="CDRY_intCaseDiaryKey" actionWhenExisted="insert" isPrimary="true" externalKeyField="CDRY_intExtCDiaryKey"/>
    <field name="BB_intBBKey" isPrimary="true" externalKeyField="BB_strExtBBKey"/>
    <field name="BBDT_intBBDTKey" isPrimary="true" externalKeyField="BBDT_strExtID"/>
    <field name="RADD_intRAddressKey" isPrimary="true" externalKeyField="RADD_intExtKey"/>

        <!-- Foreign fields -->
    <field name="RADD_intPartiesKey" foreignDomain="RPTY" foreignField="RPTY_intPartiesKey"/>
    <field name="CSAL_intCoreCaseKey" foreignDomain="CASE" foreignField="CASE_intCoreCaseKey"/>
    <field name="CDRY_intCoreCaseKey" foreignDomain="CASE" foreignField="CASE_intCoreCaseKey"/>
    <field name="RCAS_intPartiesKey" foreignDomain="RPTY" foreignField="RPTY_intPartiesKey"/>
    <field name="RCAS_intCoreCaseKey" foreignDomain="CASE" foreignField="CASE_intCoreCaseKey"/>
    <field name="BB_intCaseKey" foreignDomain="CASE" foreignField="CASE_intCoreCaseKey"/>
    <field name="BBDT_intBBKey" foreignDomain="BB" foreignField="BB_intBBKey"/>
    
    
    
</root>
