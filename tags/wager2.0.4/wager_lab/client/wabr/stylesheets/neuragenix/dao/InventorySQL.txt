DROP SEQUENCE "ix_biospecimen_biospeckey_seq" ;
CREATE SEQUENCE "ix_biospecimen_biospeckey_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE ix_biospecimen;
CREATE TABLE "ix_biospecimen" (
	"BIOSPECIMENKEY" int8 DEFAULT nextval('"ix_biospecimen_biospeckey_seq"'::text) NOT NULL,
	"BIOSPECIMENID" varchar(50) NOT NULL,
	"PATIENTKEY" int8 DEFAULT -1 NOT NULL,
	"PARENTKEY" int8 DEFAULT -1 NOT NULL,
        "CELLKEY" int8 DEFAULT -1 NOT NULL,
	"PARENTID" varchar(50),
	"SAMPLETYPE" varchar(255),
	"SAMPLESUBTYPE" varchar(255),
	"LOCATION" varchar(255),
	"SAMPLEDATE" date,
	"OTHERID" varchar(255),
	"GESTAT" float8 DEFAULT 0,
	"EXTRANUM1" float8 DEFAULT 0,
	"EXTRANUM2" float8 DEFAULT 0,
	"EXTRANUM3" float8 DEFAULT 0,
	"EXTRANUM4" float8 DEFAULT 0,
	"EXTRATXT1" varchar(255),
	"EXTRATXT2" varchar(255),
	"EXTRATXT3" varchar(255),
	"EXTRATXT4" varchar(255),
        "DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_biospecimen_biosid" UNIQUE ("BIOSPECIMENID"),
	CONSTRAINT "ix_biospecimen_pkey" PRIMARY KEY ("BIOSPECIMENKEY"));

DROP SEQUENCE "ix_inv_site_seq";
CREATE SEQUENCE "ix_inv_site_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE "ix_inv_site";
CREATE TABLE "ix_inv_site" (
	"SITEKEY" int8 DEFAULT nextval('"ix_inv_site_seq"'::text) NOT NULL,
	"NAME" varchar(50),
	"ADDRESS" text,
	"CONTACT" varchar(50),
	"PHONE" varchar(30),
	"DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_inv_site_inv_sitekey" PRIMARY KEY ("SITEKEY") );


DROP SEQUENCE "ix_inv_tank_seq";
CREATE SEQUENCE "ix_inv_tank_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE "ix_inv_tank";
CREATE TABLE "ix_inv_tank" (
	"TANKKEY" int8 DEFAULT nextval('"ix_inv_tank_seq"'::text) NOT NULL,
	"SITEKEY" int8 NOT NULL,
	"NAME" varchar(50),
	"DESCRIPTION" text,
	"LOCATION" text,
	"CAPACITY" int8 default '0',
	"AVAILABLE" int8 default '0',
	"COMMISSIONDATE" date,
	"DECOMMISSIONDATE" date,
	"LASTSERVICEDATE" date,
	"LASTSERVICENOTE" text,
	"STATUS" varchar(50),
	"DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_inv_tank_inv_tankkey" PRIMARY KEY ("TANKKEY") );


DROP SEQUENCE "ix_inv_box_seq";
CREATE SEQUENCE "ix_inv_box_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE "ix_inv_box";
CREATE TABLE "ix_inv_box" (
	"BOXKEY" int8 DEFAULT nextval('"ix_inv_box_seq"'::text) NOT NULL,
	"TANKKEY" int8 NOT NULL,
	"NAME" varchar(50),
	"CAPACITY" int8 default '0',
	"AVAILABLE" int8 default '0',
	"DESCRIPTION" text,
	"DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_inv_box_inv_boxkey" PRIMARY KEY ("BOXKEY") );


DROP SEQUENCE "ix_inv_tray_seq";
CREATE SEQUENCE "ix_inv_tray_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE "ix_inv_tray";
CREATE TABLE "ix_inv_tray" (
	"TRAYKEY" int8 DEFAULT nextval('"ix_inv_tray_seq"'::text) NOT NULL,
	"BOXKEY" int8 NOT NULL,
	"NAME" varchar(50),
	"CAPACITY" int8 default '0',
	"AVAILABLE" int8 default '0',
	"NOOFCOL" int8 default '0',
	"NOOFROW" int8 default '0',
        "COLNOTYPE" varchar(15) default 'Numeric',
        "ROWNOTYPE" varchar(15) default 'Numeric',
	"DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_inv_tray_inv_traykey" PRIMARY KEY ("TRAYKEY") );


DROP SEQUENCE "ix_inv_cell_seq";
CREATE SEQUENCE "ix_inv_cell_seq" INCREMENT 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1;

DROP TABLE "ix_inv_cell";
CREATE TABLE "ix_inv_cell" (
	"CELLKEY" int8 DEFAULT nextval('"ix_inv_cell_seq"'::text) NOT NULL,
	"TRAYKEY" int8 NOT NULL,
        "BIOSPECIMENKEY" int8 default '-1',
        "PATIENTKEY" int8 default '-1',
	"COLNO" int8,
	"ROWNO" int8,
	"DELETED" int default '0',
	"TIMESTAMP" varchar(55) default timeofday(),
	CONSTRAINT "ix_inv_cell_inv_cellkey" PRIMARY KEY ("CELLKEY") );


INSERT INTO "ix_activity" ("NAME", "DESCRIPTION") VALUES ('inventory_view', 'View inventory');
INSERT INTO "ix_activity" ("NAME", "DESCRIPTION") VALUES ('inventory_insert', 'Insert inventory element');
INSERT INTO "ix_activity" ("NAME", "DESCRIPTION") VALUES ('inventory_update', 'Update inventory element');
INSERT INTO "ix_activity" ("NAME", "DESCRIPTION") VALUES ('inventory_delete', 'Delete inventory element');

INSERT INTO "ix_listofvalues" ("TYPE","VALUE","DESCRIPTION","SORTORDER","LANGUAGE","DELETED") VALUES ('TANK_STATUS','In use','Be using',1,'Eng',0);
INSERT INTO "ix_listofvalues" ("TYPE","VALUE","DESCRIPTION","SORTORDER","LANGUAGE","DELETED") VALUES ('TANK_STATUS','Not in use','No longer use',2,'Eng',0);

INSERT INTO "ix_listofvalues" ("TYPE","VALUE","DESCRIPTION","SORTORDER","LANGUAGE","DELETED") VALUES ('TRAY_LABEL','Numeric','Numerical label',1,'Eng',0);
INSERT INTO "ix_listofvalues" ("TYPE","VALUE","DESCRIPTION","SORTORDER","LANGUAGE","DELETED") VALUES ('TRAY_LABEL','Alphabet','Alphabet label',2,'Eng',0);