<?xml version='1.0' encoding='utf-8'?>

 
<dbschema type="postgres">
 
<!--  Domains description  -->
	<domain iname="PATIENT" ename="ix_patient" activity="patient_view" sequence="ix_patient_patientkey_seq" primarykey="intInternalPatientID">
	</domain>

	<domain iname="BIOSPECIMEN" ename="ix_biospecimen" activity="biospecimen_view" sequence="ix_biospecimen_biospeckey_seq" primarykey="intBiospecimenID">
        </domain>
        
        <domain iname="BIOSPECIMEN_TRANSACTIONS" ename="ix_bio_transactions" activity="biospecimen_view" sequence="ix_bio_transactions_seq" primarykey="intBioTransactionID">
        </domain>

        <domain iname="SITE" ename="ix_inv_site" activity="inventory_view" sequence="ix_inv_site_seq" primarykey="intSiteID">
	</domain>

	<domain iname="TANK" ename="ix_inv_tank" activity="inventory_view" sequence="ix_inv_tank_seq" primarykey="intTankID">
	</domain>	

	<domain iname="BOX" ename="ix_inv_box" activity="inventory_view" sequence="ix_inv_box_seq" primarykey="intBoxID">
	</domain>	

	<domain iname="TRAY" ename="ix_inv_tray" activity="inventory_view" sequence="ix_inv_tray_seq" primarykey="intTrayID">
	</domain>	

	<domain iname="CELL" ename="ix_inv_cell" activity="inventory_view" sequence="ix_inv_cell_seq" primarykey="intCellID">
	</domain>

        <domain iname="CONSENT" ename="ix_consent" sequence="ix_consent_consentkey_seq" primarykey="intConsentKey">
	</domain>
        
        <domain iname="CONSENTSTUDY" ename="ix_consent_study" sequence="ix_consent_study_cstudykey_seq" primarykey="intConsentStudyKey">
	</domain>
       
       <domain iname="VIAL_CALCULATION" ename="ix_vial_calculation" sequence="ix_vial_calculation_seq" primarykey="intVialCalculationKey">       
       </domain>
       
       <domain iname="ADMISSIONS" ename="ix_admissions" sequence="ix_attachments_attachmentkey_seq">
       </domain>                



<!--  Joins description  -->
        <join first_domain="PATIENT" second_domain="BIOSPECIMEN" type="INNER JOIN" first_field="PATIENT_intInternalPatientID" second_field="BIOSPECIMEN_intPatientID" />        
        <join first_domain="ADMISSIONS" second_domain="PATIENT" type="INNER JOIN" first_field="ADMISSIONS_intPatientID" second_field="PATIENT_intInternalPatientID" />        
        <join first_domain="BIOSPECIMEN" second_domain="CELL" type="INNER JOIN" first_field="BIOSPECIMEN_intBiospecimenID" second_field="CELL_intBiospecimenID" />
        <join first_domain="VIAL_CALCULATION" second_domain="BIOSPECIMEN" type="INNER JOIN" first_field="VIAL_CALCULATION_intBiospecimenID" second_field="BIOSPECIMEN_intBiospecimenID" />
        <join first_domain="CELL" second_domain="TRAY" type="INNER JOIN" first_field="CELL_intTrayID" second_field="TRAY_intTrayID" />
        <join first_domain="TRAY" second_domain="BOX" type="INNER JOIN" first_field="TRAY_intBoxID" second_field="BOX_intBoxID" />
        <join first_domain="BOX" second_domain="TANK" type="INNER JOIN" first_field="BOX_intTankID" second_field="TANK_intTankID" />
        <join first_domain="TANK" second_domain="SITE" type="INNER JOIN" first_field="TANK_intSiteID" second_field="SITE_intSiteID" />
        <join first_domain="BIOSPECIMEN" second_domain="BIOSPECIMEN_TRANSACTIONS" type="INNER JOIN" first_field="BIOSPECIMEN_intBiospecimenID" second_field="BIOSPECIMEN_TRANSACTIONS_intBiospecimenID" />        
        <join first_domain="CONSENT" second_domain="PATIENT" type="INNER JOIN" first_field="PATIENT_intInternalPatientID" second_field="CONSENT_intInternalPatientID" />                
        <join first_domain="CONSENTSTUDY" second_domain="CONSENT" type="INNER JOIN" first_field="CONSENT_intConsentKey" second_field="CONSENTSTUDY_intConsentKey" />
                                   
       
        <!--
        The display names for the domains are held within the <domainDisplayName> tags
        The elements in the tag specify the actual domain name and the required display name that
        will appear in the search channel
        -->
        <domainDisplayNames name="advanced search domain names">
                <domainName name="BIOSPECIMEN_TRANSACTIONS" display="QUANTITY DETAILS" />
                <domainName name="VIAL_CALCULATION" display="VIAL CALCULATION" />
                <!-- New for CCIA -->
                <domainName name="BIOSPECIMEN" display="SAMPLE" />
                <domainName name="TANK" display="FREEZER" />
                <domainName name="BOX" display="BOX/BASKET" />
                <domainName name="TRAY" display="RACK/SHELF" />
                <domainName name="ADMISSIONS" display="HISTORY" />
                <domainName name="STUDY" display="PROJECT" />
                <domainName name="APPOINTMENTS" display="FOLLOW UP" />
                <!-- domainName name="STUDY ETHICS CONSENT" display="PROJECT ETHICS" / -->
                <domainName name="CONSENTSTUDY" display="CONSENT DETAILS" />
        </domainDisplayNames>        
        
</dbschema>