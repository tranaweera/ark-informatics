<?xml version="1.0" encoding="utf-8"?><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">	<xsl:include href="./study_menu.xsl"/>	<xsl:include href="../../common/common_btn_name.xsl"/>	<xsl:output method="html" indent="no"/>	<xsl:variable name="buttonImagePath">media/neuragenix/buttons</xsl:variable>	<xsl:template match="study">		<!-- Get the parameters from the channel class -->		<xsl:param name="intStudyID">			<xsl:value-of select="intStudyID"/>		</xsl:param>		<xsl:param name="strStudyName">			<xsl:value-of select="strStudyName"/>		</xsl:param>		<xsl:param name="dtStudyStart">			<xsl:value-of select="dtStudyStart"/>		</xsl:param>		<xsl:param name="dtStudyEnd">			<xsl:value-of select="dtStudyEnd"/>		</xsl:param>		<xsl:param name="strSurveyName">			<xsl:value-of select="strSurveyName"/>		</xsl:param>		<!--xsl:param name="intSumSurveyLOV" select="count(LOV_SURVEY)" /-->		<xsl:param name="intSumSmartformLOV" select="count(LOV_SMARTFORM)"/>		<table cellpadding="0" cellspacing="0" width="100%" height="100%" border="0">			<form action="{$baseActionURL}?current=study_surveys" method="post">				<tr>					<td>						<table width="100%">							<tr>								<td class="uportal-channel-subtitle">Smartforms attached to study</td>								<td align="right">									<!-- IExplorer Hack: since no submit attributes are passed, set "save" parameter -->									<input type="hidden" name="back" value="not_null"/>									<!-- Back and Next Buttons -->									<input class="submit_image_button" src="{$buttonImagePath}/previous_enabled.gif" type="image" name="back" value="{$backBtnLabel}" alt="Previous"/>									<img src="{$buttonImagePath}/next_disabled.gif" border="0" alt="Next"/>								</td>							</tr>							<tr>								<td colspan="2">									<hr/>								</td>							</tr>						</table>					</td>				</tr>				<tr>					<td>						<table width="100%">							<tr>								<td width="20%" class="uportal-label">									<xsl:value-of select="strStudyNameDisplay"/>: </td>								<td width="20%" class="uportal-text">									<xsl:value-of select="strStudyName"/>								</td>								<td width="5%"/>								<td width="20%"/>								<td width="20%"/>								<td width="15%"/>							</tr>							<tr>								<td width="20%" class="uportal-label">									<xsl:value-of select="dtStudyStartDisplay"/>: </td>								<td width="20%" class="uportal-text">									<xsl:value-of select="dtStudyStart"/>								</td>								<td width="5%"/>								<td width="20%" class="uportal-label">									<xsl:value-of select="dtStudyEndDisplay"/>:</td>								<td width="20%" class="uportal-text">									<xsl:value-of select="dtStudyEnd"/>								</td>								<td width="15%"/>							</tr>						</table>						<table width="100%">							<tr>								<td>									<hr/>								</td>							</tr>						</table>						<table width="100%">							<tr>								<td class="neuragenix-form-required-text" width="80%">									<xsl:value-of select="strLockError"/>									<xsl:value-of select="strErrorDuplicateKey"/>									<xsl:value-of select="strErrorRequiredFields"/>									<xsl:value-of select="strErrorInvalidDataFields"/>									<xsl:value-of select="strErrorInvalidData"/>								</td>								<td class="neuragenix-form-required-text" width="20%" id="neuragenix-required-header" align="right">						* = Required fields						</td>							</tr>						</table>						<table width="100%">							<tr>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="12%" class="uportal-channel-table-header">Smartforms</td>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="12%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="20%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="20%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="12%" class="uportal-label"/>								<td width="14%" class="uportal-label"/>								<td width="5%" class="uportal-label"/>							</tr>							<tr>								<td height="10px"/>							</tr>							<tr>								<td width="1%" class="neuragenix-form-required-text">*</td>								<td width="12%" class="uportal-label">									<xsl:value-of select="strSmartformNameDisplay"/>								</td>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="12%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="20%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="20%" class="uportal-label"/>								<td width="1%" class="neuragenix-form-required-text"/>								<td width="12%" class="uportal-label"/>								<td width="14%" class="uportal-label">View Smartform</td>								<td width="5%" class="uportal-label">Delete</td>							</tr>							<xsl:for-each select="searchResult">								<xsl:variable name="intSmartformKey">									<xsl:value-of select="intSmartformKey"/>								</xsl:variable>								<xsl:variable name="intStudySurveyID">									<xsl:value-of select="intStudySurveyID"/>								</xsl:variable>								<tr>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-text">										<a href="{$smartformAdminChannelURL}?uP_root=root&amp;uP_sparam=activeTab&amp;activeTab={$smartformAdminChannelTabOrder}&amp;current=view_smartform&amp;SMARTFORM_intSmartformID={$intSmartformKey}&amp;displaySmartform=true&amp;strcurrent=study_result&amp;intStudyID={$intStudyID}">											<xsl:value-of select="strSmartformName"/>										</a>									</td>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-text"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="20%" class="uportal-text"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="20%" class="uportal-text"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-text"/>									<td width="14%" class="uportal-text">										<a href="{$smartformAdminChannelURL}?uP_root=root&amp;uP_sparam=activeTab&amp;activeTab={$smartformAdminChannelTabOrder}&amp;current=view_smartform&amp;SMARTFORM_intSmartformID={$intSmartformKey}&amp;displaySmartform=true&amp;strcurrent=study_result&amp;intStudyID={$intStudyID}">View</a>									</td>									<td width="5%" class="uportal-text">										<xsl:if test="$intSmartformKey != ''">											<a href="javascript:confirmDelete('{$baseActionURL}?current=study_surveys&amp;intSurveyID={$intSmartformKey}&amp;intStudyID={$intStudyID}&amp;intStudySurveyID={$intStudySurveyID}')">Del</a>										</xsl:if>									</td>								</tr>							</xsl:for-each>                                                        							<xsl:if test="$intSumSmartformLOV &gt; 0">								<tr>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-label">										<select class="uportal-input-text" name="intSmartformKey">											<xsl:for-each select="LOV_SMARTFORM">												<option>													<xsl:attribute name="value"><xsl:value-of select="SMARTFORM_intSmartformID"/></xsl:attribute>													<xsl:value-of select="SMARTFORM_strSmartformName"/>												</option>											</xsl:for-each>										</select>									</td>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-label"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="20%" class="uportal-label"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="20%" class="uportal-label"/>									<td width="1%" class="neuragenix-form-required-text"/>									<td width="12%" class="uportal-label"/>									<td width="14%" class="uportal-label"/>									<td width="5%" class="uportal-label"/>								</tr>							</xsl:if>						</table>						<table width="100%">							<xsl:if test="$intSumSmartformLOV &gt; 0">								<tr>									<td width="1%"/>									<td width="99%">										<input type="submit" name="addSurvey" value="{$addBtnLabel}" class="uportal-button"/>									</td>								</tr>							</xsl:if>						</table>					</td>				</tr>				<tr height="100%">					<td>						<table width="100%" height="100%" border="0">							<tr height="100%">								<td>&#160;</td>							</tr>							<tr>								<td><hr/></td>							</tr>							<tr>								<td align="right">									<!-- IExplorer Hack: since no submit attributes are passed, set "save" parameter -->									<input type="hidden" name="back" value="not_null"/>									<!-- Back and Next Buttons -->									<input class="submit_image_button" src="{$buttonImagePath}/previous_enabled.gif" type="image" name="back" value="{$backBtnLabel}" alt="Previous"/>									<img src="{$buttonImagePath}/next_disabled.gif" border="0" alt="Next"/>								</td>							</tr>						</table>						<!-- add the study Internal ID as a hidden field to be submitted to the channel-->						<input type="hidden" name="intStudyID" value="{$intStudyID}"/>					</td>				</tr>			</form>		</table>	</xsl:template></xsl:stylesheet>